<!DOCTYPE html>
<html>
  <head>
    <title>Spark Slider Background</title>
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <!-- Bootstrap -->
    <link href="css/bootstrap.min.css" rel="stylesheet">
    <link href="css/style.css" rel="stylesheet">

    <!-- To make a #spark id div fullscreen -->
    <style type="text/css">
      html, body {
        height: 100%;
        margin: 0;
      }
      #spark {
        min-height: 100%; 
      }
    </style>
<style>
		h1 {
		    color: #FFFFFF;
			text-align: center;
			font-family: Gill Sans, Verdana;
				font-size: 111px;
				line-height: 100px;
				text-transform: uppercase;
				letter-spacing: 2px;
				font-weight: bold;
		}
		</style>
  </head>
  <body>


<div id="spark" style="background-color:color">
<h1 id="header1">The pills are not in the right place!!!</h1>

</div>
           
  </body>
 

  <script type="text/javascript" src="http://codeorigin.jquery.com/jquery-2.0.3.min.js"></script>
  <script type="text/javascript" src="js/bootstrap.min.js"></script>
  
  <script type='text/javascript' src='js/tinycolor.js'>
  //allows us to use HSL colours, making it easier to go over a spectrum
  </script>

  <script type="text/javascript">
  var text = document.getElementById("header1");
	var buttonHide = document.getElementById("hideText");
	var buttonShow = document.getElementById("showText");
	
	function hideText(){
		text.hidden = true;
		console.log("hello");
	}
	
	function showText(){
		text.hidden = false;
		console.log("ciao");
  	}
  
    var deviceID    = "51ff6e065082554929570887"; //YOUR SPARK DEVICE ID
    var accessToken = "4fb677723beab4b157b425f4724cadfc01f9bf2f"; //YOUR SPARK ACCESS TOKEN
    var getFunc = "RAWlight"; //THE NAME OF YOUR SPARK VARIABLE
    window.setInterval(function() { //THIS ALLOWS THE WEBSITE TO TALK TO THE SPARK CLOUD
      requestURL = "https://api.spark.io/v1/devices/" + deviceID + "/" + getFunc + "/?access_token=" + accessToken;
    $.getJSON(requestURL, function(json) {  //THIS ASKS THE SPARKCLOUD FOR A VALUE
        var slider = json.result;           //THE SLIDER VALUE IS PULLED OUT OF THE SPARK CLOUD
     
              if(slider<3100)
			  {
			  showText();
			  document.body.style.backgroundColor = "#AA0000";
			  
			  //setTimeout(function() {console.log("1"); document.getElementById('spark').innerHTML = '<h1>ALERT</h1><button id="hideText" onclick="hideText()">Gezien</button>';},5000);
			  
			  
			  
			  }
			  else if (slider>3101)
			  {
			  hideText();
			  document.body.style.backgroundColor = "#40FF00";
			  
			  }
               });
    }, 500); //DELAY OF 500ms BEFORE REFRESHING. DO NOT GO BELOW THIS VALUE, SPARK DOESN'T LIKE IT
  </script>

  <script>
$( document ).ready(function() {
    console.log( "ready!" );
});
  </script>
</html>